% cat a.cpp
#include <stdio.h>

void f()
{
  throw "Help!";
}

int main()
{
  try {
    f();
  }
  catch(const char* p) {
    printf("%s\n", p);
  }
}

% g++ -S a.cp
% g++ -g a.s

ç¸ºè–™ï¼…ç¸ºÃ„ gdb ç¹§å®šÀè¤€èœè¼”ï¼ ç¸ºÀ€ç¸ºÀˆç¹§å™¨ throw "Help!"; ç¸ºÃéš§À€è –è–™â˜†ç¹§ä¹ã•ç¹à „ç¹å³¨À€ __cxa_throw ç¹§æ˜¼èœ»à „ç¸ºè’´èœƒÀ€ç¸ºåŠ±â€»ç¸ºÀ€ï½‹. __cxa_throw ç¸ºÃç¹§À™ç¹À€ãƒ£ç¹åŠ±ã†ç¹è’´ç¸ºåŠ±â€»ç¸ºÀˆç¸ºæª 

__cxxabiv1::__cxa_throw (obj=0x804ea70, tinfo=0x8049a80 <typeinfo for char const*@@CXXABI_1.3>, dest=0x0) at ../../.././libstdc++-v3/libsupc++/eh_throw.cc:62

ç¸ºè¼”ï½‰ç¸ºÃç¸ºè–™À€èœƒÀ›è¬¨À€ç¸ºä¹ï½‰ _Unwind_RaiseException ç¸ºæ‚Ÿä»–ç¸ºè’´èœƒÀ€ç¸ºè¼”ï½Œç¸ºÀ€ç¸ºÀ€ï½‹. ç¸ºæ˜´ï¼…ç¸ºÃ
ç¹§À™ç¹À€ãƒ£ç¹åŠ±ã†ç¹è’´ç¸ºåŠ±â€»ç¸ºÀˆç¸ºæª 

_Unwind_RaiseException (exc=0x804ea50) at ../.././libgcc/unwind.inc:88

ç¸ºè–™À€ç¹§è’´ç¹Àç¹è’´ç¹åŒ»ï½’éš•ä¹ï½‹é«¯èˆŒï½Š, ç¹§À™ç¹§Àˆç¹À€ã‘ç¹§åµï¼†ç¸ºä¹À€ç¸ºà „ç¹§ä¹ï½ˆç¸ºÀ€â†‘ç¸ºè–™â†’ç¹§åµï½„ç¸ºÀç¸ºÀ€ç¸ºÀ€ï½‹.

uw_init_context (&this_context);

ç¸ºè–™À€èœ»à „ç¸ºè’´èœƒÀ€ç¸ºåŠ±â†“ç¹§åŒ»ï½Š this_context ç¸ºÃœè°ºÀç¸ºÀ€ç¹§åŒ»â‰§ç¸ºÃç¸ºÀ€ç¸ºÀç¸ºæ²‚
p this_context
$1 = {reg = {0xbffff754, 0x0, 0xbffff758, 0xbffff75c, 0x0, 0xbffff768, 0xbffff760, 0xbffff764, 0xbffff76c, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, cfa = 0xbffff770, ra = 0xb7ead724 <__cxxabiv1::__cxa_throw(void*, std::type_info*, void (*)(void*))+100>, lsda = 0x0, bases = {tbase = 0x0, dbase = 0xb7e068b8, func = 0xb7dfd5f0 <_Unwind_RaiseException>}, flags = 1073741824, version = 0, args_size = 0, by_value = '\000' <repeats 17 times>}

ç¸ºÀ€ç¹§ä¹âŠ‡ç¸ºÀç¸ºÀ€ç¸ºÀ€â‰§ç¸ºè–™â†’ç¸ºå™¨ è¿šÀ™ç¸ºÃ ra ç¸ºÃœèœ»à „ç¸ºè’´èœƒÀ€ç¸ºæ€œâ¼ç¹§å ¤À€À€ç¸ºåŠ±â€»ç¸ºÀ€ï½‹.
ç¸ºç¿«â—ç¹§å³¨Â¥ç¸ºè–™ï½Œç¸ºä¹ï½‰

(gdb) where
#0  _Unwind_RaiseException (exc=0x804ea50) at ../.././libgcc/unwind.inc:89
#1  0xb7ead724 in __cxxabiv1::__cxa_throw (obj=0x804ea70, tinfo=0x8049a80 <typeinfo for char const*@@CXXABI_1.3>, dest=0x0) at ../../.././libstdc++-v3/libsupc++/eh_throw.cc:82
#2  0x080486a5 in f() () at a.s:24
#3  0x080486bc in main () at a.s:43

ç¸ºÀ€ç¹§åŒ»â‰§ç¸ºÃç¹§À™ç¹§Àˆç¹À€ã‘ç¹§åµï¼†ç¸ºä¹À€ç¸ºà „ç¹§ä¹À€ç¸º`ç´•è¾£ç”„à „
while (1) {
  ...
  uw_update_context (&cur_context, &fs);
}

up_update_context ç¸ºÀ€ 1 è—æ¨’å²¼ç¸ºÀ€è³æº¯Àæ‚ŸÀ€çµ
(gdb) p cur_context
$2 = {reg = {0xbffff754, 0x0, 0xbffff758, 0xbffff784, 0x0, 0xbffff768, 0xbffff788, 0xbffff764, 0xbffff78c, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, cfa = 0xbffff790, ra = 0x80486a5 <main>, lsda = 0x0, bases = {tbase = 0x0, dbase = 0xb7fdbff4, func = 0xb7ead6c0 <__cxxabiv1::__cxa_throw(void*, std::type_info*, void (*)(void*))>}, flags = 1073741824, version = 0, args_size = 0, by_value = '\000' <repeats 17 times>}


up_update_context ç¸ºÀ€ 2 è—æ¨’å²¼ç¸ºÀ€è³æº¯Àæ‚ŸÀ€çµ
(gdb) p cur_context
$3 = {reg = {0xbffff754, 0x0, 0xbffff758, 0xbffff784, 0x0, 0xbffff7a8, 0xbffff788, 0xbffff764, 0xbffff7ac, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, cfa = 0xbffff7b0, ra = 0x80486bc <main+23>, lsda = 0x0, bases = {tbase = 0x0, dbase = 0x8049a34, func = 0x804867c <f()>}, flags = 1073741824, version = 0, args_size = 0, by_value = '\000' <repeats 17 times>}

ç¸ºÀ€ç¹§åŒ»â‰§ç¸ºÃç¸ºÀ€ç¸ºÀç¸ºæ©² ç¸ºè–™À€ while ç¸ºÀ€ç¹Ãç¹à „ç¹åŠ±À€

  while (1) {
    if (fs.personality) {
      code = ...;
      if (code == _URC_HANDLER_FOUND)
        break;

ç¸ºè–™À€ break ç¸ºÃ„è¬šæ‡ŠÂ¢ç¸ºæ©² è´è¼”Â°ç¸ºç‘šÀ€ä¹â–½ç¸ºä¹â–²ç¸ºæº˜ï½‰ç¸ºåŠ±ï¼.
ç¸ºè–™À€èœƒÀ›è¬¨À€ _Unwind_RaiseException ç¸ºÀ€è­›