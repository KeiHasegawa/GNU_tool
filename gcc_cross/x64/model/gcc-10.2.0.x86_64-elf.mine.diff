*** gcc-10.2.0.org/gcc/config.gcc	2021-10-16 10:31:18.000000000 +0900
--- gcc-10.2.0.x86_64-elf.mine/gcc/config.gcc	2022-05-02 15:03:36.000000000 +0900
***************
*** 416,452 ****
  		       enqcmdintrin.h avx512vp2intersectintrin.h avx512vp2intersectvlintrin.h"
  	;;
  x86_64-*-*)
! 	cpu_type=i386
! 	c_target_objs="i386-c.o"
! 	cxx_target_objs="i386-c.o"
! 	d_target_objs="i386-d.o"
! 	extra_options="${extra_options} fused-madd.opt"
! 	extra_objs="x86-tune-sched.o x86-tune-sched-bd.o x86-tune-sched-atom.o x86-tune-sched-core.o i386-options.o i386-builtins.o i386-expand.o i386-features.o"
! 	target_gtfiles="\$(srcdir)/config/i386/i386-builtins.c \$(srcdir)/config/i386/i386-expand.c \$(srcdir)/config/i386/i386-options.c"
! 	extra_headers="cpuid.h mmintrin.h mm3dnow.h xmmintrin.h emmintrin.h
! 		       pmmintrin.h tmmintrin.h ammintrin.h smmintrin.h
! 		       nmmintrin.h bmmintrin.h fma4intrin.h wmmintrin.h
! 		       immintrin.h x86intrin.h avxintrin.h xopintrin.h
! 		       ia32intrin.h cross-stdarg.h lwpintrin.h popcntintrin.h
! 		       lzcntintrin.h bmiintrin.h bmi2intrin.h tbmintrin.h
! 		       avx2intrin.h avx512fintrin.h fmaintrin.h f16cintrin.h
! 		       rtmintrin.h xtestintrin.h rdseedintrin.h prfchwintrin.h
! 		       adxintrin.h fxsrintrin.h xsaveintrin.h xsaveoptintrin.h
! 		       avx512cdintrin.h avx512erintrin.h avx512pfintrin.h
! 		       shaintrin.h clflushoptintrin.h xsavecintrin.h
! 		       xsavesintrin.h avx512dqintrin.h avx512bwintrin.h
! 		       avx512vlintrin.h avx512vlbwintrin.h avx512vldqintrin.h
! 		       avx512ifmaintrin.h avx512ifmavlintrin.h avx512vbmiintrin.h
! 		       avx512vbmivlintrin.h avx5124fmapsintrin.h avx5124vnniwintrin.h
! 		       avx512vpopcntdqintrin.h clwbintrin.h mwaitxintrin.h
! 		       clzerointrin.h pkuintrin.h sgxintrin.h cetintrin.h
! 		       gfniintrin.h cet.h avx512vbmi2intrin.h
! 		       avx512vbmi2vlintrin.h avx512vnniintrin.h
! 		       avx512vnnivlintrin.h vaesintrin.h vpclmulqdqintrin.h
! 		       avx512vpopcntdqvlintrin.h avx512bitalgintrin.h
! 		       pconfigintrin.h wbnoinvdintrin.h movdirintrin.h
! 		       waitpkgintrin.h cldemoteintrin.h avx512bf16vlintrin.h avx512bf16intrin.h
! 		       enqcmdintrin.h avx512vp2intersectintrin.h avx512vp2intersectvlintrin.h"
  	;;
  ia64-*-*)
  	extra_headers=ia64intrin.h
--- 416,422 ----
  		       enqcmdintrin.h avx512vp2intersectintrin.h avx512vp2intersectvlintrin.h"
  	;;
  x86_64-*-*)
! 	cpu_type=x86_64
  	;;
  ia64-*-*)
  	extra_headers=ia64intrin.h
***************
*** 618,641 ****
  	fi
  	;;
  x86_64-*-*)
- 	case ${with_abi} in
- 	"")
- 		if test "x$with_multilib_list" = xmx32; then
- 			tm_file="i386/biarchx32.h ${tm_file}"
- 		else
- 			tm_file="i386/biarch64.h ${tm_file}"
- 		fi
- 		;;
- 	64 | m64)
- 		tm_file="i386/biarch64.h ${tm_file}"
- 		;;
- 	x32 | mx32)
- 		tm_file="i386/biarchx32.h ${tm_file}"
- 		;;
- 	*)
- 		echo "Unknown ABI used in --with-abi=$with_abi"
- 		exit 1
- 	esac
  	;;
  arm*-*-*)
  	tm_p_file="arm/arm-flags.h ${tm_p_file} arm/aarch-common-protos.h"
--- 588,593 ----
***************
*** 1865,1871 ****
  	tm_file="${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h newlib-stdint.h i386/i386elf.h"
  	;;
  x86_64-*-elf*)
! 	tm_file="${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h newlib-stdint.h i386/i386elf.h i386/x86-64.h"
  	;;
  x86_64-*-rtems*)
  	tm_file="${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h newlib-stdint.h i386/i386elf.h i386/x86-64.h i386/rtemself.h rtems.h"
--- 1817,1829 ----
  	tm_file="${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h newlib-stdint.h i386/i386elf.h"
  	;;
  x86_64-*-elf*)
! 	tm_file="dbxelf.h elfos.h newlib-stdint.h x86_64/x86_64.h"
!   	tm_p_file="x86_64/x86_64-protos.h"
!   	md_file="x86_64/x86_64.md"
!   	out_file="x86_64/x86_64.c"
!   	tmake_file="x86_64/t-x86_64"
! 	extra_modes="x86_64/x86_64-modes.def"
!   	use_gcc_stdint=wrap
  	;;
  x86_64-*-rtems*)
  	tm_file="${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h newlib-stdint.h i386/i386elf.h i386/x86-64.h i386/rtemself.h rtems.h"
***************
*** 2067,2073 ****
  	case ${target} in
  	  x86_64-*)
  	    need_64bit_isa=yes
! 	    tm_file="${tm_file} i386/x86-64.h"
  	    ;;
  	esac
  	tm_file="${tm_file} vx-common.h"
--- 2025,2031 ----
  	case ${target} in
  	  x86_64-*)
  	    need_64bit_isa=yes
! 	    tm_file="${tm_file}"
  	    ;;
  	esac
  	tm_file="${tm_file} vx-common.h"
***************
*** 3516,3522 ****
  	tmake_file="${tmake_file} i386/t-pmm_malloc i386/t-i386"
  	;;
  i[34567]86-*-* | x86_64-*-*)
- 	tmake_file="${tmake_file} i386/t-gmm_malloc i386/t-i386"
  	;;
  powerpc*-*-* | rs6000-*-*)
  	tm_file="${tm_file} ${cpu_type}/option-defaults.h"
--- 3474,3479 ----
***************
*** 5130,5136 ****
  case ${target} in
  arm*-*-* | i[34567]86-*-* | mips*-*-* | powerpc*-*-* | sh*-*-* \
  | sparc*-*-* | x86_64-*-*)
- 	tm_file="vxworks-dummy.h ${tm_file}"
  	;;
  esac
  
--- 5087,5092 ----
*** gcc-10.2.0.org/gcc/config.host	2022-04-21 18:27:38.000000000 +0900
--- gcc-10.2.0.x86_64-elf.mine/gcc/config.host	2022-05-01 11:33:06.000000000 +0900
***************
*** 123,138 ****
  	;;
      esac
      ;;
-   i[34567]86-*-* \
-   | x86_64-*-* )
-     case ${target} in
-       i[34567]86-*-* \
-       | x86_64-*-* )
- 	host_extra_gcc_objs="driver-i386.o"
- 	host_xmake_file="${host_xmake_file} i386/x-i386"
- 	;;
-     esac
-     ;;
    mips*-*-linux*)
      case ${target} in
        mips*-*-linux*)
--- 123,128 ----
