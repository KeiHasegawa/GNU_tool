(*) 簡易版 printf

r8c.c はビルドの過程で生成されるファイルなので何らかのタイミングで削除されることがある.
パッチの適用方法は一旦通常通りビルドして

% cd gdb-10.2.m32c-elf
% patch -p1 < /tmp/printf.diff

とすればよい.
オペコードと機能の対応は以下:

0x007f : exit(0) の呼び出し
0x017f : printf
0x027f : puts
0x037f : putchar
       
(*) 結果

2021/11/26 13:11
ISO_IEC_9899 1294/2836

2021.12.08.14.52
ISO_IEC_9899 1293/2833    # アクセス時に自動的にメモリを確保(オリジナル)

2021.12.08.18.02
ISO_IEC_9899 1293/2833    # メモリを断片で確保
