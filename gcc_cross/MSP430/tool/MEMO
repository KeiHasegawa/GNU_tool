msp430-elf-run --memory-region 0xe000,0x1f00 sample.elf

が正しいのだが, 

msp430-elf-run --memory-region 0xe000,0x1000 sample.elf

でエラーを捕えられていない. マップされていない領域にストアしているはずなのに
それがエラーになっていない.

と思ったが

Fault: PC(0x4) is less than 0x10

になっている. おそらく例外をシミュレーションしているのかもしれない.

調べてみたところ sim-core.c でマップが見つからなくてもエラーにしていない.
コンパイルの方法が違っているということか?
単純に sim_core_write_buffer の戻り値をチェックしていないのが他のシユレータと異なる.

呼び出している函数が違っていた:

sim_core_write_aligned_1
sim_core_write_aligned_2
sim_core_write_aligned_4

にすればエラーを捕えられる.


