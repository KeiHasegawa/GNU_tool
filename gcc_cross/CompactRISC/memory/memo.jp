CompactRISC のシミュレータのメモリ

函数 sim_open の中で以下のように行なっている:
 
  sim_do_commandf (sd, "memory-size %#x", 20 * 1024 * 1024);

これは結果的にシミュレータの共通ソースで以下を実行していることになる:

	do_memopt_add (sd, level, space, addr, nr_bytes, modulo,
		       &STATE_MEMOPT (sd), NULL);


これを止めて共通部分ではあるが memory.diff のパッチを適用する. これに伴なって
以下も必要になるだろう.

mine.cpp
Makefile.mine

.bss は 0xcc で初期化される. スタックは別途割り当てる必要がある.

この修正に伴なって cr16-tdep.c も修正する必要がある. cr16-tdep.c.003 としてこのページ
にアップロードしておいた.

